# =============================================================================
# WellKorea ERP - Local Development Environment
# =============================================================================
# Usage:
#   1. Copy this file to .env: cp .env.local.example .env
#   2. Add "127.0.0.1 minio.local" to /etc/hosts
#   3. Run: docker compose -f docker-compose.local.yml up -d
#
# All values have sensible defaults for local development.
# =============================================================================

# -----------------------------------------------------------------------------
# Spring Profile
# -----------------------------------------------------------------------------
SPRING_PROFILES_ACTIVE=dev

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
POSTGRES_DB=wellkorea_erp
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Backend Configuration
# -----------------------------------------------------------------------------
BACKEND_PORT=8080
DDL_AUTO=validate

# -----------------------------------------------------------------------------
# MinIO S3 Storage Configuration
# -----------------------------------------------------------------------------
# IMPORTANT: Add "127.0.0.1 minio.local" to /etc/hosts for presigned URLs
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin
MINIO_URL=http://minio.local:9000
MINIO_BUCKET_NAME=wellkorea-erp-documents

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
# Default dev secret - DO NOT USE IN PRODUCTION
JWT_SECRET=dev-secret-key-minimum-256-bits-required-for-hs256-algorithm-do-not-use-in-production
JWT_EXPIRATION=86400000

# -----------------------------------------------------------------------------
# Token Encryption (for OAuth2 refresh tokens)
# -----------------------------------------------------------------------------
# Default dev keys - DO NOT USE IN PRODUCTION
# Generate production keys with:
#   Key: openssl rand -hex 32
#   Salt: openssl rand -hex 8
APP_TOKEN_ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
APP_TOKEN_ENCRYPTION_SALT=0123456789abcdef

# -----------------------------------------------------------------------------
# Email Configuration (optional for local dev)
# -----------------------------------------------------------------------------
# Mail provider: smtp (default), graph (refresh token), graph-client-credentials (M365)
MAIL_PROVIDER=smtp

# SMTP Configuration (required if MAIL_PROVIDER=smtp)
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=

# Microsoft Graph Configuration
# For graph-client-credentials (recommended for M365 organizations):
# MICROSOFT_GRAPH_TENANT_ID=
# MICROSOFT_GRAPH_CLIENT_ID=
# MICROSOFT_GRAPH_CLIENT_SECRET=
# MICROSOFT_GRAPH_SENDER_EMAIL=

# For graph (personal accounts with refresh token):
# Set CLIENT_ID and CLIENT_SECRET, then configure refresh token via:
#   Admin Settings > Mail > Connect (in-app OAuth2 flow)
# MICROSOFT_GRAPH_CLIENT_ID=
# MICROSOFT_GRAPH_CLIENT_SECRET=

# App URLs (for OAuth2 redirect)
APP_BASE_URL=http://localhost:8080
APP_FRONTEND_URL=http://localhost:5173

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
SECURITY_CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:4173,http://localhost:3000,http://localhost:80
SECURITY_SWAGGER_ENABLED=true

# -----------------------------------------------------------------------------
# Frontend Configuration
# -----------------------------------------------------------------------------
FRONTEND_PORT=80
VITE_API_URL=http://localhost:8080
